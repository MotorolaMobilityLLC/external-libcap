head	1.4;
access;
symbols;
locks; strict;
comment	@ * @;


1.4
date	98.06.08.00.14.01;	author morgan;	state Exp;
branches;
next	1.3;

1.3
date	98.05.24.22.54.09;	author morgan;	state Exp;
branches;
next	1.2;

1.2
date	97.04.28.00.57.11;	author morgan;	state Exp;
branches;
next	1.1;

1.1
date	97.04.21.04.32.52;	author morgan;	state Exp;
branches;
next	;


desc
@first take
@


1.4
log
@change to accommodate alpha (glibc?)
@
text
@/*
 * $Id: cap_sys.c,v 1.3 1998/05/24 22:54:09 morgan Exp morgan $
 *
 * Copyright (c) 1997-8 Andrew G. Morgan   <morgan@@linux.kernel.org>
 *
 * This file contains the system calls for getting and setting
 * capabilities
 */

#include "libcap.h"
#define __LIBRARY__
#include <linux/unistd.h>

_syscall2(int, capget,
	  cap_user_header_t, header,
	  cap_user_data_t, data)

_syscall2(int, capset,
	  cap_user_header_t, header,
	  const cap_user_data_t, data)

/*
 * $Log: cap_sys.c,v $
 * Revision 1.3  1998/05/24 22:54:09  morgan
 * updated for 2.1.104
 *
 * Revision 1.2  1997/04/28 00:57:11  morgan
 * fixes and zefram's patches
 *
 * Revision 1.1  1997/04/21 04:32:52  morgan
 * Initial revision
 *
 */
@


1.3
log
@updated for 2.1.104
@
text
@d2 1
a2 1
 * $Id: cap_sys.c,v 1.2 1997/04/28 00:57:11 morgan Exp morgan $
d11 1
d24 3
@


1.2
log
@fixes and zefram's patches
@
text
@d2 1
a2 1
 * $Id: cap_sys.c,v 1.1 1997/04/21 04:32:52 morgan Exp morgan $
d4 1
a4 1
 * Copyright (c) 1997 Andrew G. Morgan   <morgan@@parc.power.net>
d13 7
a19 41
_syscall4(int, _setproccap,
	  size_t, usize,
	  __cap_s const *, iset,
	  __cap_s const *, pset,
	  __cap_s const *, eset)

_syscall4(int, _getproccap,
	  size_t, usize,
	  __cap_s *, iset,
	  __cap_s *, pset,
	  __cap_s *, eset)

/* Secondly, we have the file capabilities */

_syscall5(int, _setfilecap,
	  char const *, filename,
	  size_t, usize,
	  __cap_s const *, iset,
	  __cap_s const *, pset,
	  __cap_s const *, eset)

_syscall5(int, _getfilecap,
	  char const *, filename,
	  size_t, usize,
	  __cap_s *, iset,
	  __cap_s *, pset,
	  __cap_s *, eset)

_syscall5(int, _fsetfilecap,
	  int, fd,
	  size_t, usize,
	  __cap_s const *, iset,
	  __cap_s const *, pset,
	  __cap_s const *, eset)

_syscall5(int, _fgetfilecap,
	  int, fd,
	  size_t, usize,
	  __cap_s *, iset,
	  __cap_s *, pset,
	  __cap_s *, eset)
d23 3
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
 * $Id$
d11 1
d21 3
a23 3
	  __cap_s const *, iset,
	  __cap_s const *, pset,
	  __cap_s const *, eset)
d25 1
a25 1
/* Secondly, we have the file capabilitiy setting */
d37 3
a39 3
	  __cap_s const *, iset,
	  __cap_s const *, pset,
	  __cap_s const *, eset)
d51 3
a53 3
	  __cap_s const *, iset,
	  __cap_s const *, pset,
	  __cap_s const *, eset)
d56 4
a59 1
 * $Log$
@
