head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	97.05.14.05.15.40;	author morgan;	state Exp;
branches;
next	1.3;

1.3
date	97.05.04.05.31.12;	author morgan;	state Exp;
branches;
next	1.2;

1.2
date	97.04.28.00.54.04;	author morgan;	state Exp;
branches;
next	1.1;

1.1
date	97.04.21.04.32.27;	author morgan;	state Exp;
branches;
next	;


desc
@a start
@


1.4
log
@autoconf rearrangemnt from Zefram
@
text
@#
# $Id: Makefile,v 1.3 1997/05/04 05:31:12 morgan Exp morgan $
#
# Makefile for libcap

topdir=$(shell pwd)
include Make.Rules

#
# flags
#

all install clean: %: %-here
	make -C libcap $(MAKE_DEFS) $@@
	make -C progs $(MAKE_DEFS) $@@
	make -C doc $(MAKE_DEFS) $@@

all-here:

install-here:

clean-here:
	$(LOCALCLEAN)

distclean: clean
	$(DISTCLEAN)

release: distclean
	cd .. ; tar cvfz libcap-$(VERSION).$(MINOR).tar.gz libcap-$(VERSION).$(MINOR)
@


1.3
log
@cleaner makefiles
@
text
@d2 1
a2 1
# $Id: Makefile,v 1.2 1997/04/28 00:54:04 morgan Exp morgan $
d6 1
a6 1
topdir=.
d14 3
a16 3
	make -C libcap $@@
	make -C progs $@@
	make -C doc $@@
@


1.2
log
@revised with contributions from Zefram
@
text
@d2 1
a2 1
# $Id: Makefile,v 1.1 1997/04/21 04:32:27 morgan Exp morgan $
a11 2
#
#
d13 8
a20 8
all:
	make -C libcap all
	make -C progs all

install:
	make -C libcap install
	make -C progs install
	make -C doc install
d22 1
a22 1
clean:
a23 3
	make -C libcap clean
	make -C progs clean
	make -C doc clean
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# $Id$
d6 2
a7 19
ifndef CC
CC=gcc
endif
export CC

ifndef COPTFLAGS
COPTFLAGS=-O2
endif
export COPTFLAGS

ifndef DEBUG
DEBUG=#-g -DDEBUG
endif
export DEBUG

ifndef FAKEROOT
FAKEROOT=
endif
export FAKEROOT
a11 6
export IPATH=-I$(shell pwd)/libcap/include
export LPATH=-L$(shell pwd)/libcap -lcap
export WARNINGS = -ansi -D_POSIX_SOURCE -Wall -Wwrite-strings \
        -Wpointer-arith -Wcast-qual -Wcast-align \
        -Wtraditional -Wstrict-prototypes -Wmissing-prototypes \
        -Wnested-externs -Winline -Wshadow -pedantic
d22 1
d25 1
d28 1
d31 4
a34 1
	@@find . \( -name '*.orig' -o -name '*.rej' \) | xargs rm -f
@
