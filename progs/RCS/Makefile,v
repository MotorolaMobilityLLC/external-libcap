head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	98.09.20.23.17.32;	author morgan;	state Exp;
branches;
next	1.5;

1.5
date	98.06.07.01.54.43;	author morgan;	state Exp;
branches;
next	1.4;

1.4
date	97.05.14.05.18.23;	author morgan;	state Exp;
branches;
next	1.3;

1.3
date	97.05.04.05.34.03;	author morgan;	state Exp;
branches;
next	1.2;

1.2
date	97.04.28.01.01.20;	author morgan;	state Exp;
branches;
next	1.1;

1.1
date	97.04.21.04.34.04;	author morgan;	state Exp;
branches;
next	;


desc
@first take
@


1.6
log
@added sucap.c
@
text
@##
## $Log: Makefile,v $
## Revision 1.5  1998/06/07 01:54:43  morgan
## updated for 0.104.  Added execcap.
##
## Revision 1.4  1997/05/14 05:18:23  morgan
## autoconf rearrangement from Zefram
##
## Revision 1.3  1997/05/04 05:34:03  morgan
## took care of case that install cannot handle more than one file
##
## Revision 1.2  1997/04/28 01:01:20  morgan
## update with zefram's patches
##
## Revision 1.1  1997/04/21 04:34:04  morgan
## Initial revision
##
##

topdir=$(shell pwd)/..
include $(topdir)/Make.Rules
#
# Programs: all of the examples that we will compile
#
PROGS=getpcaps setpcaps execcap sucap

# when we have filecaps...
#PROGS+=getcap setcap

all: $(PROGS)

$(PROGS): %: %.o
	$(CC) $(LDFLAGS) -o $@@ $< $(LIBS)

%.o: %.c $(INCS)
	$(CC) $(CFLAGS) -c $< -o $@@

install: all
	mkdir -p -m 0755 $(SBINDIR)
	for p in $(PROGS) ; do \
		install -s -m 0755 $$p $(SBINDIR) ; \
	done

clean:
	$(LOCALCLEAN)
	rm -f *.o $(PROGS)
@


1.5
log
@updated for 0.104.  Added execcap.
@
text
@d3 3
d23 1
a23 1
# Programs: getcap, setcap and execcap
d25 1
a25 1
PROGS=getpcaps setpcaps execcap
@


1.4
log
@autoconf rearrangement from Zefram
@
text
@d3 3
a18 1

d20 1
a20 1
# Programs: getcap and setcap
d22 4
a25 1
PROGS=getcap setcap
@


1.3
log
@took care of case that install cannot handle more than one file
@
text
@d3 3
d14 1
a14 1
topdir=..
d25 1
a25 1
	$(CC) $(LDFLAGS) -o $@@ $< $(LPATH)
d31 1
a31 1
	mkdir -p $(BINDIR)
d33 1
a33 1
		install -s -g root -o root -m 0111 $$p $(BINDIR) ; \
d37 2
a38 1
	rm -f *~ core *.o $(PROGS)
@


1.2
log
@update with zefram's patches
@
text
@d3 3
d28 4
a31 2
	mkdir -p $(FAKEROOT)/bin
	install -s -g root -o root -m 0111 $(PROGS) $(BINDIR)
@


1.1
log
@Initial revision
@
text
@d3 2
d6 4
d14 1
a14 3
PROGS=getcap # setcap

export CFLAGS =-Dlinux $(WARNINGS) $(DEBUG) $(COPTFLAG) $(IPATH)
d18 2
a19 2
getcap: getcap.o
	$(CC) -o $@@ $< $(LPATH)
d26 1
a26 2
	strip $(PROGS)
	install -g root -o root -m 0111 $(PROGS) $(FAKEROOT)/bin
@
